{% extends 'base.html' %}
{% block content %}
    <a href="{{ url_for('login') }}">Log in</a>
    {% if session.logged_in %}
        <br>
        Logged in as <strong>{{ session.user_email }}</strong>
        {% if session.user_refresh_data %}
        <br>
        <a href="{{ url_for('refresh') }}">Refresh</a>
        {% endif %}
        <br>
        <a href="{{ url_for('logout') }}">Log out</a>
    {% endif %}
    <hr>
    Search users:
    <form>
        <input type="hidden" name="search" value="users">
        <input type="text" name="email" value="{{ request.args.email }}" placeholder="Email">
        <input type="text" name="name" value="{{ request.args.name }}" placeholder="Name">
        <input type="checkbox" name="exact" id="exact" value="1" {%- if request.args.exact %} checked{% endif %}>
        <label for="exact">Exact</label>
        <input type="submit" value="Search">
        <br>
        {% if request.args.search == 'users' %}
            Results:
            <ul>
                {% for result in results %}
                    <li>{{ result }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </form>
    <hr>
    Search groups
    <form>
        <input type="hidden" name="search" value="groups">
        <input type="text" name="name" value="{{ request.args.name }}" placeholder="Name">
        <input type="checkbox" name="exact" id="exact" value="1" {%- if request.args.exact %} checked{% endif %}>
        <label for="exact">Exact</label>
        <input type="submit" value="Search">
        <br>
        {% if request.args.search == 'groups' %}
            Results:
            <ul>
                {% for result in results %}
                    <li>{{ result }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </form>
{% endblock %}
